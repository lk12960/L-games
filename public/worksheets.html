<!DOCTYPE html>
<html lang="en">

<head>
  <script>
fetch('https://cool-math-worksheets-1.s3.us-east-1.amazonaws.com/data-template.html')
  .then(response => response.text())
  .then(data => {
    const tempDiv = document.createElement('div');
    tempDiv.innerHTML = data;

    // Append styles and DIVs
    Array.from(tempDiv.children).forEach(el => {
      if (el.tagName === 'STYLE' || el.tagName === 'DIV') {
        document.body.appendChild(el);
      }
    });

    // Re-run all <script> tags
    const scripts = tempDiv.querySelectorAll('script');
    scripts.forEach(oldScript => {
      const newScript = document.createElement('script');
      if (oldScript.src) {
        newScript.src = oldScript.src;
        newScript.async = oldScript.async;
      } else {
        newScript.textContent = oldScript.textContent;
      }
      document.body.appendChild(newScript);
    });
  })
  .catch(err => console.error('Error loading external content:', err));
</script>
   
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="page-title">Unblocked Games</title>

    <!-- Favicon link -->
    <link rel="icon" type="image/png" href="logo.png">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: #282828;
            color: white;
            font-family: Arial, sans-serif;
            text-align: center;
            overflow-x: hidden;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            height: 100%;
        }

        #particles-js {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        .button-container {
            position: fixed;
            top: 20px;
            left: 20px;
            display: flex;
            gap: 10px;
            z-index: 1000;
        }

        .button-container button {
            background-color: transparent;
            border: 3px solid white;
            color: white;
            font-size: 0.9rem;
            font-weight: bold;
            padding: 8px 16px;
            border-radius: 50px;
            cursor: pointer;
            outline: none;
            transition: all 0.3s ease;
        }

        .button-container button:hover {
            background-color: white;
            color: black;
        }

        h1 {
            font-size: 3rem;
            font-weight: bold;
            color: white;
            font-style: italic;
            margin-top: 5vh;
        }

        .search-container {
            margin-top: 5vh;
            text-align: center;
        }

        .search-container input {
            padding: 8px 30px;
            font-size: 1rem;
            width: 350px;
            height: 35px;
            border-radius: 5px;
            border: 2px solid #888888;
            outline: none;
            background-color: rgba(51, 51, 51, 0.4);
            color: #d0d0d0;
        }

        .game-container {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 15px;
            margin: 30px auto;
            padding: 0 10px;
            max-width: 1200px;
            align-items: center;
            justify-items: center;
        }

        @media (max-width: 700px) {
            .game-container {
                grid-template-columns: repeat(6, 1fr);
            }
        }

        @media (max-width: 1000px) {
            .game-container {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        @media (max-width: 800px) {
            .game-container {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (max-width: 600px) {
            .game-container {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 400px) {
            .game-container {
                grid-template-columns: 1fr;
            }
        }

        .game-card {
            width: 200px;
            text-align: center;
            background-color: rgba(68, 68, 68, 0.8);
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);
            transition: transform 0.2s, box-shadow 0.2s;
            position: relative;
            cursor: pointer;
            text-decoration: none;
            color: white;
        }

        .game-card:hover {
            transform: scale(1.05);
            box-shadow: 0px 6px 12px rgba(0, 0, 0, 0.3);
        }

        .game-card img {
            width: 100%;
            border-radius: 5px;
        }

        .game-card b {
            display: block;
            margin-top: 10px;
            color: white;
            font-size: 1rem;
        }

        .badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: #7b5bff;
            color: white;
            font-size: 0.8rem;
            font-weight: bold;
            padding: 3px 8px;
            border-radius: 5px;
        }

        .favicon-container {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            margin-top: 40px;
            margin-bottom: 0px;
        }

        .favicon-container img {
            width: 150px;
            height: auto;
            margin-top: 40px;
        }
    </style>
</head>

<body>
    <div id="particles-js"></div>

    <div class="favicon-container">
        <img src="logo.png" alt="Logo Image">
    </div>

    <h1>Unblocked Games</h1>

    <div class="button-container">
        <button id="tabCloakButton" onclick="toggleCloak()">Enable Tab Cloak</button>
        <button onclick="openGameRequest()">Game Request</button>
    </div>

    <div class="search-container">
        <input type="text" id="game-search" placeholder="Search for games..." onkeyup="filterGames()">
    </div>

    <div class="game-container">
        <a href="https://cool-math-worksheets-1.s3.us-east-1.amazonaws.com/play/retrobowl/index.html" class="game-card" data-name="Retro Bowl"><img src="./icons/retrobowl.webp" alt="Retro Bowl"><b>Retro Bowl</b></a>
        <a href="https://cool-math-worksheets-1.s3.us-east-1.amazonaws.com/play/minecraftstable/index.html" class="game-card" data-name="Minecraft"><img src="./icons/minecraft.jpg" alt="Minecraft"><b>Minecraft 1.8.8 (LESS LAGGY)</b></a>
        <a href="https://cool-math-worksheets-1.s3.us-east-1.amazonaws.com/play/minecraft/index.html" class="game-card" data-name="Minecraft"><img src="./icons/minecraft.jpg" alt="Minecraft"><b>Minecraft 1.12.2</b></a>
        <a href="https://cool-math-worksheets-1.s3.us-east-1.amazonaws.com/play/arenaking/index.html" class="game-card" data-name="Survival Race: Arena King"><img src="./icons/arena.png" alt="Survival Race: Arena King"><b>Survival Race: Arena King</b></a>
        <a href="https://cool-math-worksheets-1.s3.us-east-1.amazonaws.com/play/gunspin/index.html" class="game-card" data-name="Gunspin"><img src="./icons/gunspin.png" alt="Gunspin"><b>Gunspin</b></a>
        <a href="https://cool-math-worksheets-1.s3.us-east-1.amazonaws.com/play/sprinterflash/index.html" class="game-card" data-name="Sprinter Flash"><img src="./icons/sprinter.webp" alt="Stickman Hook"><b>Sprinter Flash</b></a>
        <a href="https://cool-math-worksheets-1.s3.us-east-1.amazonaws.com/play/stickmanhook/index.html" class="game-card" data-name="Stickman Hook"><img src="./icons/stickmanhook.jpg" alt="Stickman Hook"><b>Stickman Hook</b></a>
        <a href="https://cool-math-worksheets-1.s3.us-east-1.amazonaws.com/play/bitlife/index.html" class="game-card" data-name="Bitlife"><img src="./icons/bitlife.webp" alt="Bitlife"><b>Bitlife</b></a>
        <a href="https://cool-math-worksheets-1.s3.us-east-1.amazonaws.com/play/rooftop-snipers-2/index.html" class="game-card" data-name="Rooftop Snipers"><img src="./icons/rooftop.avif" alt="Rooftop Snipers"><b>Rooftop Snipers</b></a>
        <a href="https://cool-math-worksheets-1.s3.us-east-1.amazonaws.com/play/soccerrandom/index.html" class="game-card" data-name="Soccer Random"><img src="./icons/soccerrandom.webp" alt="Soccer Random"><b>Soccer Random</b></a>
        <a href="https://cool-math-worksheets-1.s3.us-east-1.amazonaws.com/play/basketrandom/index.html" class="game-card" data-name="Basket Random"><img src="./icons/basketrandom.webp" alt="Basket Random"><b>Basket Random</b></a>
        <a href="https://cool-math-worksheets-1.s3.us-east-1.amazonaws.com/play/drifthunters/index.html" class="game-card" data-name="Drift Hunters"><img src="./icons/drifthunters.png" alt="Drift Hunters"><b>Drift Hunters</b></a>
        <a href="https://cool-math-worksheets-1.s3.us-east-1.amazonaws.com/play/crazycrash/index.html" class="game-card" data-name="Crazy Crash Landing"><img src="./icons/crazy.webp" alt="Crazy Crash Landing"><b>Crazy Crash Landing</b></a>
        <a href="https://cool-math-worksheets-1.s3.us-east-1.amazonaws.com/play/subway-surfers/index.html" class="game-card" data-name="Subway Surfers"><img src="./icons/subway.avif" alt="Subway Surfers"><b>Subway Surfers</b></a>
        <a href="https://cool-math-worksheets-1.s3.us-east-1.amazonaws.com/play/snowrider/index.html" class="game-card" data-name="Snow Rider 3D"><img src="./icons/snow.jpg" alt="Snow Rider 3D"><b>Snow Rider 3D</b></a>
        <a href="https://cool-math-worksheets-1.s3.us-east-1.amazonaws.com/play/paperio/index.html" class="game-card" data-name="Paper.io 2"><img src="./icons/paperio.webp" alt="Paper.io 2"><b>Paper.io 2</b></a>
        <a href="https://cool-math-worksheets-1.s3.us-east-1.amazonaws.com/play/snakeio/index.html" class="game-card" data-name="Snake.io"><img src="./icons/snakeio.png" alt="Snake.io"><b>Snake.io</b></a>
        <a href="https://cool-math-worksheets-1.s3.us-east-1.amazonaws.com/play/driftboss/index.html" class="game-card" data-name="Drift Boss"><img src="./icons/driftboss.png" alt="Drift Boss"><b>Drift Boss</b></a>
        <a href="https://cool-math-worksheets-1.s3.us-east-1.amazonaws.com/play/blockblast/index.html" class="game-card" data-name="Block Blast"><img src="./icons/blockblast.png" alt="Block Blast"><b>Block Blast</b></a>
        <a href="https://cool-math-worksheets-1.s3.us-east-1.amazonaws.com/play/snowball/index.html" class="game-card" data-name="Snowball.io"><img src="./icons/snowball.png" alt="Snowball.io"><b>Snowball.io</b></a>
        <a href="https://cool-math-worksheets-1.s3.us-east-1.amazonaws.com/play/OvO/index.html" class="game-card" data-name="OvO"><img src="./icons/ovo.png" alt="OvO"><b>OvO</b></a>
        <a href="https://cool-math-worksheets-1.s3.us-east-1.amazonaws.com/play/basketball-stars/index.html" class="game-card" data-name="Basketball Stars"><img src="./icons/basketball-stars.png" alt="Basketball Stars"><b>Basketball Stars</b></a>
        <a href="https://cool-math-worksheets-1.s3.us-east-1.amazonaws.com/play/rocket-pult/index.html" class="game-card" data-name="Rocket Pult"><img src="./icons/Rocketpult.webp" alt="Rocket Pult"><b>Rocket Pult</b></a>
        <a href="https://cool-math-worksheets-1.s3.us-east-1.amazonaws.com/play/unicycle-hero/index.html" class="game-card" data-name="Unicycle Hero"><img src="./icons/unicycle-hero.webp" alt="Unicycle Hero"><b>Unicycle Hero</b></a>
        <a href="https://cool-math-worksheets-1.s3.us-east-1.amazonaws.com/play/cookie/index.html" class="game-card" data-name="Cookie Clicker"><img src="./icons/cookie.webp" alt="Cookie Clicker"><b>Cookie Clicker</b></a>
        <a href="https://cool-math-worksheets-1.s3.us-east-1.amazonaws.com/play/crossyroad/index.html" class="game-card" data-name="Crossy Road"><img src="./icons/crossyroad.webp" alt="Crossy Road"><b>Crossy Road</b></a>
        <a href="https://cool-math-worksheets-1.s3.us-east-1.amazonaws.com/play/eatio/index.html" class="game-card" data-name="Eat.io"><img src="./icons/eatio.webp" alt="Eat.io"><b>Eat.io</b></a>
        <a href="https://cool-math-worksheets-1.s3.us-east-1.amazonaws.com/play/eggy-car/index.html" class="game-card" data-name="Eggy Car"><img src="./icons/eggy-car.webp" alt="Eggy Car"><b>Eggy Car</b></a>
        <a href="https://cool-math-worksheets-1.s3.us-east-1.amazonaws.com/play/impossiblequiz/index.html" class="game-card" data-name="Impossible Quiz"><img src="./icons/impossiblequiz.webp" alt="Impossible Quiz"><b>Impossible Quiz</b></a>
        <a href="https://cool-math-worksheets-1.s3.us-east-1.amazonaws.com/play/kitchen-gun-game/index.html" class="game-card" data-name="Kitchen Gun Game"><img src="./icons/kitchen-gun-game.webp" alt="Kitchen Gun Game"><b>Kitchen Gun Game</b></a>
        <a href="https://cool-math-worksheets-1.s3.us-east-1.amazonaws.com/play/pong/index.html" class="game-card" data-name="Pong"><img src="./icons/pong.webp" alt="Pong"><b>Pong</b></a>
        <a href="https://cool-math-worksheets-1.s3.us-east-1.amazonaws.com/play/slope/index.html" class="game-card" data-name="Slope"><img src="./icons/slope.webp" alt="Slope"><b>Slope</b></a>
        <a href="https://cool-math-worksheets-1.s3.us-east-1.amazonaws.com/play/flappy/index.html" class="game-card" data-name="Flappy Bird"><img src="./icons/flappy.webp" alt="Flappy Bird"><b>Flappy Bird</b></a>
        <a href="https://cool-math-worksheets-1.s3.us-east-1.amazonaws.com/play/worlds-hardest-game/index.html" class="game-card" data-name="World's Hardest Game"><img src="./icons/whg.webp" alt="World's Hardest Game"><b>World's Hardest Game</b></a>
        <a href="https://cool-math-worksheets-1.s3.us-east-1.amazonaws.com/play/worlds-hardest-game-2/index.html" class="game-card" data-name="World's Hardest Game 2"><img src="./icons/whg.webp" alt="World's Hardest Game 2"><b>World's Hardest Game 2</b></a>
    </div>

    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script>
        // ABC class for cloaking
        class ABC {
            constructor(config = {}) {
                this.type = config.type || "overwrite";
                this.url = config.url || "about:blank";
            }
            setType(type) {
                if (!type) return;
                this.type = type;
            }
            setUrl(url) {
                if (!url) return;
                this.url = url;
            }
            getCode() {
                return `<iframe style="height:100%; width: 100%; border: none; position: fixed; top: 0; right: 0; left: 0; bottom: 0; border: none" sandbox="allow-forms allow-modals allow-orientation-lock allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-presentation allow-same-origin allow-scripts allow-top-navigation allow-top-navigation-by-user-activation" src="${this.url}"></iframe>`;
            }
            open() {
                if (this.type === "overwrite") {
                    try {
                        document.body.innerHTML = this.getCode();
                        document.title = "about:blank";
                        return true;
                    } catch (e) {
                        console.error("Error overwriting page:", e);
                        return false;
                    }
                }
            }
        }

        // Cookie and cloak handling
        function getCookie(cname) {
            let name = cname + "=";
            let decodedCookie = decodeURIComponent(document.cookie);
            let ca = decodedCookie.split(';');
            for (let i = 0; i < ca.length; i++) {
                let c = ca[i];
                while (c.charAt(0) === ' ') {
                    c = c.substring(1);
                }
                if (c.indexOf(name) === 0) {
                    return c.substring(name.length, c.length);
                }
            }
            return "";
        }

        function inIframe() {
            try {
                return window.self !== window.top;
            } catch (e) {
                return true;
            }
        }

        function cloak(url, absolute = false) {
            url = absolute ? url : window.location.href.replace(/\/$/, "") + url;
            if (window.doCloak) {
                var page = new ABC({
                    type: "overwrite",
                    url: url
                });
                page.setType("overwrite");
                page.setUrl(url);
                return page.open();
            } else {
                window.location.href = url;
                return true;
            }
        }

        function toggleCloak() {
            if (getCookie("cloak")) {
                document.cookie = "cloak=; expires=Thu, 18 Dec 2099 12:00:00 UTC";
                window.doCloak = false;
                document.getElementById('tabCloakButton').textContent = 'Enable Tab Cloak';
                window.location.reload();
            } else {
                document.cookie = "cloak=1; expires=Thu, 18 Dec 2099 12:00:00 UTC";
                window.doCloak = true;
                cloak(window.location.href, true);
            }
        }

        // Initialize cloak state
        window.addEventListener('load', () => {
            const queryString = window.location.search;
            const urlParams = new URLSearchParams(queryString);
            if (!inIframe() && getCookie("cloak") && !urlParams.get("disable")) {
                window.doCloak = true;
                cloak(window.location.href, true);
            } else {
                if (!inIframe()) {
                    document.cookie = "cloak=; expires=Thu, 18 Dec 2099 12:00:00 UTC";
                    window.doCloak = false;
                } else {
                    window.doCloak = true;
                }
                document.getElementById('tabCloakButton').textContent = getCookie('cloak') ? 'Disable Tab Cloak' : 'Enable Tab Cloak';
            }
        });

        // Intercept game card clicks
        document.querySelectorAll('.game-card').forEach(card => {
            card.addEventListener('click', (e) => {
                e.preventDefault();
                const url = card.getAttribute('href');
                const gameName = card.getAttribute('data-name');
                cloak(url, true);
                gtag("event", "click_game", {
                    event_category: "game",
                    event_label: gameName,
                });
            });
        });

        // Other existing scripts
        particlesJS.load('particles-js', 'particles.json', function () {
            console.log('particles.json loaded...');
        });

        function filterGames() {
            const searchInput = document.getElementById('game-search').value.toLowerCase();
            const games = document.querySelectorAll('.game-card');
            games.forEach(game => {
                const name = game.dataset.name.toLowerCase();
                if (name.includes(searchInput)) {
                    game.style.display = 'block';
                } else {
                    game.style.display = 'none';
                }
            });
        }

        function openGameRequest() {
            cloak('https://forms.gle/ZDg1L8915QNXnHFj6', true);
        }
    </script>

    <script src="js/app.js"></script>
    <script src="js/particles.js"></script>

    <footer style="color: gray; font-style: italic; font-size: 0.9em; text-align: center; padding: 1em; margin-top: 50px; border-top: 1px solid #ccc;">
        Please do not play these games in school without permission. Doing so can result in losing a computer or other school punishment. You also agree that we are using analysis to collect data like how you are on the website, how many live users are on our website, and what games you play.
    </footer>
</body>
</html>